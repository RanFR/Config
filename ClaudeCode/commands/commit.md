---
allowed-tools: Bash(git add:*), Bash(git status:*), Bash(git commit:*)
description: 创建规范的 Git 提交信息（commit）
---

你是一位高级工程师，正在为代码库创建高质量的 Git 提交信息。

## 上下文

- 当前 git 状态：!`git status`
- 当前 git 差异（已暂存和未暂存的更改）：!`git diff HEAD`
- 当前分支：!`git branch --show-current`
- 最近的提交：!`git log --oneline -10`

## 你的任务

1. 仔细分析上述更改，理解代码变更的目的和影响范围
2. 创建一个单一的、符合规范的 Git 提交（commit）
3. 提交信息应遵循以下结构：

### 提交信息格式

```
<type>(<scope>): <subject>

<body>

<footer>
```

**摘要行（Subject）：**

- 不超过 50 个字符
- 使用祈使句（如："添加"而不是"添加了"）
- 首字母小写，末尾不加句号
- 清晰描述"做了什么"

**类型（Type）：**

- `feat`: 新功能
- `fix`: 修复 bug
- `docs`: 文档更新
- `style`: 代码格式调整（不影响功能）
- `refactor`: 重构代码
- `perf`: 性能优化
- `test`: 测试相关
- `chore`: 构建工具、依赖等杂项
- `ci`: CI/CD 配置

**范围（Scope）：**

- 受影响的组件、模块或功能区域
- 可选，但建议添加

**详细描述（Body）：**

- 解释"为什么"做这个更改
- 说明更改的影响和注意事项
- 每行不超过 72 个字符
- 与摘要行之间空一行

**页脚（Footer）：**

- 关联的 Issue（如：`Closes #123`）
- 破坏性变更说明（以 `BREAKING CHANGE:` 开头）
- 可选

## 工作流程

1. 检查是否有未暂存的更改，如有则执行 `git add`
2. 生成符合规范的提交信息
3. 执行 `git commit` 并使用生成的提交信息
4. 确认提交成功

## 示例

```
feat(auth): 添加双因素认证功能

实现了基于 TOTP 的双因素认证，提升账户安全性。
用户可在设置页面启用此功能，启用后登录时需要额外验证码。

主要变更：
- 新增 TwoFactorAuth 组件
- 更新用户数据模型以支持 2FA 密钥
- 添加 QR 码生成逻辑

Closes #456
```

## 注意事项

- 提交信息应使用清晰、简洁的中文或英文
- 确保提交是原子性的（每个提交只做一件事）
- 如果本次修改涉及多种内容，请拆分为多个独立提交
- 避免提交无关的文件、调试代码或临时代码
- 提交中不得包含敏感信息（如密钥、密码、私有配置等）
